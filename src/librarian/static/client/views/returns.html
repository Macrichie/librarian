<div ng-controller="returnCtrl">
  <h3>Returns</h3>
  <div class="error" ng-show="errorMessage">{{errorMessage}}</div>
  <form class="form-inline" ng-submit="returnItem(data.barcode)">
    <div class="form-group">
      <input only-digits maxlength="9" inputmode="numeric"
             class="form-control" ng-model="data.barcode"
             autofocus placeholder="barcode"/>
      <button type="button" class="btn btn-primary"
              ng-click="returnItem(data.barcode)">Return</button>
    </div>
  </form>
  <table class="table table-striped table-hover table-condensed">
    <thead>
      <tr>
        <th>Barcode</th>
        <th>Title</th>
        <th>Borrower Name</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="returned in data.returnedItems">
        <td>{{returned.item.barcode}}</td>
        <td>{{returned.item.title}}</td>
        <td>
          <a href="#/borrower?id={{returned.borrower.id}}">{{returned.borrower.surname}}</a></td>
      </tr>
    </tbody>
  </table>
</div>
