<div class="" ng-controller="itemCtrl as ctrl">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4>
        Item {{ctrl.item.barcode}}: {{ctrl.item.title}}
        <span class="antolin-icon-header"
              ng-show="ctrl.item.antolin == true"></span>
        <span class="label label-baseline label-danger"
              ng-show="ctrl.item.state != 'CIRCULATING'">
          Unavailable
        </span>
        <span class="label label-baseline label-warning"
              ng-show="ctrl.item.state == 'CIRCULATING' && ctrl.item.checkout">
          Checked out
        </span>
        <span class="label label-baseline label-success"
              ng-show="ctrl.item.state == 'CIRCULATING' && !ctrl.item.checkout">
          Available
        </span>
      </h4>
    </div>
    <div class="button-row">
      <a ng-href="#/items" class="btn btn-primary" accesskey="s">
        New <span class="accesskey">S</span>earch
      </a>
      <a ng-show="authorized('items', 'update')"
         ng-href="#/item/{{ctrl.item.barcode}}/edit" class="btn btn-primary"
         accesskey="c">
        <span class="accesskey">C</span>hange
      </a>
      <a ng-show="authorized('items', 'update')"
         ng-click="ctrl.copyItem(ctrl.item)" class="btn btn-primary">
        Copy
      </a>
    </div>
    <div class="panel-body">
      <tabset>
        <tab heading="Details">
          <div id="itemDetailsPanel" class="tab-panel"
               ng-include="'/item/item_details.html'"></div>
        </tab>
        <tab heading="History">
          <div id="itemHistoryPanel" class="tab-panel"
               ng-controller="itemHistoryCtrl as ctrl"
               ng-include="'/item/item_history.html'"></div>
        </tab>
      </tabset>
    </div>
  </div>
</div>
